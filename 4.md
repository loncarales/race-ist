Absolutely! Here's your **all-in-one `build-installer.bat` script** that automates everything from **building the `.exe` with PyInstaller** to **generating and compiling the Inno Setup installer** â€” with:

* âœ… Killing old `.exe`
* âœ… Cleaning `dist/` & `build/`
* âœ… Compiling `steering.py` with assets and DLLs
* âœ… Auto-generating `RaceAssist.iss` with:

  * Splash screen
  * Readme
  * DLL inclusion
* âœ… Launching Inno Setup compiler

---

## ğŸ“ Required Folder Structure

Make sure you have:

```
race-ist/
â”œâ”€â”€ steering.py
â”œâ”€â”€ venv/
â”œâ”€â”€ dist/
â”œâ”€â”€ installer/
â”‚   â”œâ”€â”€ raceassist.ico
â”‚   â”œâ”€â”€ splash.bmp
â”‚   â”œâ”€â”€ splash_small.bmp
â”‚   â””â”€â”€ readme.txt
â”œâ”€â”€ build-installer.bat
```

---

## ğŸ§  `build-installer.bat` â€” Save this in your `race-ist` root folder

```bat
@echo off
setlocal enabledelayedexpansion
title ğŸš— Building RaceAssist Installer...

:: ------------------------------
:: CONFIG
:: ------------------------------
set ENTRYPOINT=steering.py
set EXENAME=steering.exe
set ICON=installer\raceassist.ico
set VERSIONFILE=version.txt
set SPLASH=installer\splash.bmp
set SPLASH_SMALL=installer\splash_small.bmp
set README=installer\readme.txt
set OUTDIR=output

:: Kill existing exe
echo ğŸ”„ Killing any running RaceAssist executable...
taskkill /f /im %EXENAME% >nul 2>&1

:: Clean build artifacts
echo ğŸ§¹ Cleaning previous build...
rmdir /s /q dist
rmdir /s /q build
del /f /q %EXENAME:.exe=.spec%

:: Build the .exe with PyInstaller
echo ğŸ”§ Building standalone executable with PyInstaller...
pyinstaller --onefile --noconsole ^
--icon="%ICON%" ^
--version-file="%VERSIONFILE%" ^
--add-data="venv\Lib\site-packages\mediapipe\modules;mediapipe\modules" ^
--add-binary="venv\Lib\site-packages\cv2\opencv_videoio_ffmpeg.dll;." ^
%ENTRYPOINT%

:: Create output dir
if not exist %OUTDIR% mkdir %OUTDIR%

:: Generate RaceAssist.iss
echo ğŸ“ Generating installer script: RaceAssist.iss...
(
echo [Setup]
echo AppName=RaceAssist
echo AppVersion=1.0.0
echo AppPublisher=Siddhant Bali
echo DefaultDirName={autopf}^\\RaceAssist
echo DefaultGroupName=RaceAssist
echo UninstallDisplayIcon={app}^\\%EXENAME%
echo OutputDir=%OUTDIR%
echo OutputBaseFilename=RaceAssist Setup
echo SetupIconFile=%ICON%
echo Compression=lzma
echo SolidCompression=yes
echo WizardImageFile=%SPLASH%
echo WizardSmallImageFile=%SPLASH_SMALL%

echo.
echo [Files]
echo Source: "dist\%EXENAME%"; DestDir: "{app}"; Flags: ignoreversion
echo Source: "%README%"; DestDir: "{app}"; Flags: ignoreversion
echo Source: "venv\Lib\site-packages\cv2\opencv_videoio_ffmpeg.dll"; DestDir: "{app}"; Flags: ignoreversion
echo Source: "venv\Lib\site-packages\mediapipe\modules\*"; DestDir: "{app}\mediapipe\modules"; Flags: recursesubdirs createallsubdirs

echo.
echo [Icons]
echo Name: "{group}\RaceAssist"; Filename: "{app}\%EXENAME%"
echo Name: "{userdesktop}\RaceAssist"; Filename: "{app}\%EXENAME%"; Tasks: desktopicon

echo.
echo [Tasks]
echo Name: "desktopicon"; Description: "Create a ^&desktop icon"; GroupDescription: "Additional icons:"

echo.
echo [Run]
echo Filename: "{app}\%EXENAME%"; Description: "Launch RaceAssist"; Flags: nowait postinstall skipifsilent
echo Filename: "notepad.exe"; Parameters: "{app}\readme.txt"; Description: "View Readme"; Flags: postinstall skipifsilent
) > RaceAssist.iss

:: Build installer using Inno Setup
echo ğŸ“¦ Launching Inno Setup to build installer...
if exist "C:\Program Files (x86)\Inno Setup 6\ISCC.exe" (
    "C:\Program Files (x86)\Inno Setup 6\ISCC.exe" RaceAssist.iss
) else (
    echo âŒ ERROR: Could not find Inno Setup compiler. Please install it from: https://jrsoftware.org/isinfo.php
    pause
    exit /b
)

echo âœ… Done! Find your installer at: %OUTDIR%\RaceAssist Setup.exe
pause
```

---

## ğŸ“¦ Output

After running `build-installer.bat`, youâ€™ll get:

```
output/
â””â”€â”€ RaceAssist Setup.exe âœ… â† shareable installer
```

---

## âœ… What This Automates

| Step                             | Done? |
| -------------------------------- | ----- |
| Kills old `.exe`                 | âœ…     |
| Deletes old builds               | âœ…     |
| Builds `.exe` via PyInstaller    | âœ…     |
| Generates `.iss` script          | âœ…     |
| Includes MediaPipe + OpenCV DLLs | âœ…     |
| Runs Inno Setup                  | âœ…     |

---

Would you like the installer to also:

* Create a `logs/` folder?
* Add a registry key for version tracking?
* Run the app silently on startup?

Just say so â€” Iâ€™ll extend it.
